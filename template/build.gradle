plugins {
	id 'org.springframework.boot' version "$springBootVersion"
	id 'io.spring.dependency-management' version "$springDependencyManager"
	id 'java'
}

group = 'com.asyncapi'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = JavaVersion.VERSION_1_8

repositories {
	mavenCentral()
}

dependencies {
	{%- if asyncapi.hasServers() %}
		{%- for serverName, server in asyncapi.servers() %}
			{%- if server.protocol() === 'amqp' %}
	implementation('org.springframework.integration:spring-integration-amqp')
			{% endif -%}
			{%- if server.protocol() === 'mqtt' %}
	implementation('org.springframework.integration:spring-integration-mqtt')
			{% endif -%}
			{%- if server.protocol() === 'kafka' %}
	implementation('org.springframework.integration:spring-integration-kafka')
			{%- endif -%}
		{%- endfor -%}
	{%- endif %}
	implementation('org.springframework.boot:spring-boot-starter-integration')
	testImplementation('org.springframework.boot:spring-boot-starter-test')
}
